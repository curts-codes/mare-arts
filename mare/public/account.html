<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Create Account</title>
    <link rel="stylesheet" href="styles/style.css">

</head>
<body>
  <header>
    <div class="logo">Mare Arts</div>
   <nav>
  <ul id="nav-menu">
    <li><a href="index.html">Home</a></li>
    <li><a href="shop.html">Shop</a></li>
    <li><a href="cart.html">Cart (<span id="cart-count">0</span>)</a></li>
    <li><a href="account-settings.html">My Account</a></li>
  </ul>
</nav>


  </header>

  <main class="account-container">
    <h1>Create an Account</h1>

    <label for="acc-name">Full Name:</label>
    <input type="text" id="acc-name" class="form-input" required>

    <label for="acc-email">Email:</label>
    <input type="email" id="acc-email" class="form-input" required>

    <label for="acc-password">Password:</label>
    <input type="password" id="acc-password" class="form-input" required>

    <button onclick="createAccount()">Create Account</button>

    <hr>

    <h2>Already have an account?</h2>
    <label for="login-email">Email:</label>
    <input type="email" id="login-email" class="form-input" required>

    <label for="login-password">Password:</label>
    <input type="password" id="login-password" class="form-input" required>

    <button onclick="login()">Log In</button>

    <p id="auth-msg"></p>
  </main>

  <script>
    function createAccount() {
      const name = document.getElementById('acc-name').value.trim();
      const email = document.getElementById('acc-email').value.trim();
      const password = document.getElementById('acc-password').value.trim();

      if (!name || !email || !password) {
        alert('Please fill out all fields.');
        return;
      }

      const user = {
  name,
  email,
  password,
  orders: [],
  shipping: {
    address: "",
    city: "",
    zip: ""
  },
  payment: {
    method: "Credit Card",
    cardName: ""
  }
};

      localStorage.setItem(`user-${email}`, JSON.stringify(user));
      alert('Account created successfully!');
    }

    function login() {
      const email = document.getElementById('login-email').value.trim();
      const password = document.getElementById('login-password').value.trim();
      const user = JSON.parse(localStorage.getItem(`user-${email}`));

      const msg = document.getElementById('auth-msg');
      if (!user || user.password !== password) {
        msg.textContent = "Invalid login credentials.";
        msg.style.color = "red";
        return;
      }

      localStorage.setItem('loggedInUser', email);
      msg.textContent = `Welcome back, ${user.name}!`;
      msg.style.color = "green";
    }

  function logout() {
    localStorage.removeItem('loggedInUser');
    alert('You have been logged out.');
    window.location.href = 'index.html';
  }
window.addEventListener('DOMContentLoaded', () => {
  const loggedIn = localStorage.getItem('loggedInUser');
  if (!loggedIn) {
    document.querySelector("a[href='my-orders.html']").style.display = 'none';
    document.querySelector("a[onclick='logout()']").style.display = 'none';
  }
});


  </script>
<script>
 const email = localStorage.getItem("loggedInUser");
const nav = document.getElementById("nav-menu");

if (email) {
  const userData = JSON.parse(localStorage.getItem(`user-${email}`));
  const name = userData?.name || email;

  const userItem = document.createElement("li");
  userItem.textContent = `Welcome, ${name}`;

  const logoutItem = document.createElement("li");
  logoutItem.innerHTML = `<a href="#" id="logout-btn">Logout</a>`;

  nav.append(userItem, logoutItem);

  document.getElementById("logout-btn").addEventListener("click", () => {
    localStorage.removeItem("loggedInUser");
    window.location.reload();
  });


  } else {
    const loginItem = document.createElement("li");
    loginItem.innerHTML = `<a href="account.html">Login</a>
`;
    nav.appendChild(loginItem);
  }
</script>

</body>
</html>
